---
import { SITE } from '@/config';
import ThemeToggle from '@/components/ThemeToggle.svelte';
import Search from '@/components/Search.svelte';

interface NavLink {
  name: string;
  href: string;
}

const base = SITE.base;

const navLinks: NavLink[] = [
  { name: 'Posts', href: `${base}posts` },
  { name: 'Projects', href: `${base}projects` },
  { name: 'Newsfeed', href: `${base}appearances` },
  { name: 'About', href: `${base}about` },
];
---

<header
  class="sticky top-0 z-50 backdrop-blur-md bg-background/80 flex flex-col lg:flex-row items-center justify-between py-4 sm:py-5 gap-4 border-b border-border transition-all duration-300"
>
  <div class="flex items-center justify-between w-full lg:w-auto">
    <a
      href={base}
      class="flex flex-col items-center no-underline hover:opacity-80 transition-opacity gap-1"
    >
      <img
        src={`${base}site-icon.png`}
        alt=""
        aria-hidden="true"
        width="48"
        height="48"
        class="w-12 h-12 rounded-full"
      />
      <span class="text-sm font-black tracking-normal text-foreground whitespace-nowrap">{SITE.title}</span>
    </a>
    <div class="flex items-center gap-2 lg:hidden">
      <Search client:idle />
      <ThemeToggle client:idle />
    </div>
  </div>

  <nav class="flex flex-col sm:flex-row items-center gap-4 sm:gap-6 w-full lg:w-auto">
    <div class="flex items-center justify-center flex-wrap gap-x-2 gap-y-2 sm:gap-4">
      {
        navLinks.map((link) => (
          <a
            href={link.href}
            class="px-1.5 py-1 rounded-md text-xs font-bold uppercase tracking-widest text-muted-foreground hover:bg-accent hover:text-primary transition-all shrink-0"
          >
            {link.name}
          </a>
        ))
      }
    </div>
    <div class="hidden lg:block h-4 w-px bg-border"></div>
    <div class="hidden lg:flex items-center gap-4">
      <Search client:idle />
      <ThemeToggle client:idle />
    </div>
  </nav>
</header>
